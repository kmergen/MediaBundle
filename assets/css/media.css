/* media-bundle/assets/css/media.css */
@layer components {
  /* ############### Media Dashboard Styles (find in templates/media_dashboard.html.twig) ############## */
  
  .kmm-dashboard-container {
    @apply w-full
  }
  
  .kmm-dashboard-preview-grid {
    @apply grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 mb-6
  }

  .kmm-dashboard-dropzone {
  @apply w-full border-2 border-dashed border-gray-300 rounded-lg p-10 text-center cursor-pointer transition-colors bg-white;

    /* Wenn die Dropzone gehovert wird... */
    &:hover {
      @apply bg-gray-50 border-blue-400;

      /* ...ändere die Farbe des SVGs */
      .kmm-dropzone-info-svg {
        @apply text-blue-500;
      }

      /* ...und die Farbe des Textes */
      .kmm-dropzone-info-text {
        @apply text-gray-700;
      }
    }
  }
  .kmm-dropzone-info {
    @apply flex flex-col items-center justify-center space-y-2
  }

  .kmm-dropzone-info-svg {
    @apply w-10 h-10 text-gray-400 transition-colors
  }

  .kmm-dropzone-info-text {
    @apply text-sm text-gray-500 font-medium transition-colors
  }


  /* ############### Preview Image Styles (find in assets/src/media_upload_controller.js) ############## */
 .kmm-photo-item {
    /* 1. Layout für Spinner (Zentrierung) */
    @apply flex items-center justify-center;

    /* 2. Grundstyling des Containers */
    @apply relative w-36 h-36 mb-4 overflow-hidden rounded-lg border border-gray-200 shadow-sm bg-gray-100 cursor-move select-none;

    /* 3. HOVER EFFEKTE (Nesting) - Kein 'group' nötig! */
    &:hover {
      /* Buttons einblenden */
      .kmm-delete-btn,
      .kmm-edit-btn {
        @apply opacity-100;
      }
      
      /* Bild leicht zoomen */
      .kmm-preview-image {
        @apply scale-105;
      }
    }
  }

  /* Das Bild selbst (Cover-Style, absolut über dem Spinner) */
  .kmm-preview-image {
    @apply absolute inset-0 w-full h-full object-cover z-10 transition-transform duration-300;
  }
  
  /* --- Buttons (Standardmäßig unsichtbar opacity-0) --- */
  .kmm-delete-btn {
    @apply absolute top-1 right-1 z-30 cursor-pointer;
    @apply size-6 rounded-full! flex items-center justify-center shadow-md;
    @apply bg-white text-red-600 transition-all opacity-0;
    @apply hover:bg-red-50;
  }

  .kmm-edit-btn {
    @apply absolute top-1 right-8 z-30 cursor-pointer;
    @apply size-6 rounded-full! flex items-center justify-center shadow-md;
    @apply bg-white text-blue-600 transition-all opacity-0;
    @apply hover:bg-blue-50;
  }

  .kmm-delete-btn svg, .kmm-edit-btn svg {
    @apply w-4 h-4;
  }

  /* --- Spinner --- */
  .kmm-placeholder-spin {
    @apply text-blue-500 z-0; /* z-0 damit er unter dem Bild liegt */
  }
  
  .kmm-placeholder-spin {
    @apply animate-spin h-8 w-8 text-blue-500 z-0;
  }

  /* --- Hauptbild Markierung --- */
  .kmm-main-image-border {
    @apply ring-4 ring-blue-600 ring-offset-2 ring-offset-white;
  }

  .kmm-main-image-badge {
    @apply absolute bottom-2 left-1/2 -translate-x-1/2 bg-blue-600/90 text-white text-[10px] font-bold py-1 px-3 rounded-full uppercase z-20 pointer-events-none backdrop-blur-sm shadow-lg whitespace-nowrap;
  }
}